<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard | Tortoise Center</title>
    <link rel="stylesheet" href="css/admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <aside class="sidebar">
            <div class="profile">
                <img src="images/admin.png" alt="Admin">
                <h3>Maherun</h3>
                <span>ADMIN</span>
            </div>
            <nav>
                <ul>
                    <li class="active">ğŸ  Home</li>
                    <li>ğŸ“¦ Tortoises</li>
                    <li>ğŸ”¬ Health Records</li>
                    <li>ğŸ“Š Analysis</li>
                    <li>ğŸ§‘â€ğŸ”§ Staff</li>
                    <li>ğŸŒ¦ Weather</li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <header class="topbar">
                <input type="text" id="searchInput" placeholder="Search...">
                <div class="icons">
                    <span>âœ‰ï¸</span>
                    <span>ğŸ””</span>
                    <span>ğŸ‘¤</span>
                </div>
            </header>

            <section class="cards">
                <div class="card">ğŸ¢ Total Tortoises<br><strong>150</strong></div>
                <div class="card">ğŸ’‰ Treated Today<br><strong>12</strong></div>
                <div class="card">ğŸ›  Maintenance Tasks<br><strong>8</strong></div>
                <div class="card">ğŸ“¦ Feed Stock<br><strong>65%</strong></div>
            </section>

            <section class="charts-grid">
              <div class="chart-box">
                <h3>Health Monitoring</h3>
                <canvas id="healthChart"></canvas>
              </div>
              <div class="chart-box">
                <h3>Feeding Activity</h3>
                <canvas id="feedingChart"></canvas>
              </div>
              <div class="chart-box">
                <h3>Breeding Statistics</h3>
                <canvas id="breedingChart"></canvas>
              </div>
              <div class="chart-box">
                <h3>Water Quality (pH)</h3>
                <canvas id="phChart"></canvas>
              </div>
              <div class="chart-box">
                <h3>Task Completion</h3>
                <canvas id="taskChart"></canvas>
              </div>
            </section>
            <!-- Add Tortoise Button -->
  <button id="addBtn">â• Add Tortoise</button>

  <!-- Add Tortoise Form (Hidden Initially) -->
  <div id="addForm" style="display: none; margin-top: 20px;">
    <input type="text" id="idInput" placeholder="ID (e.g., T111)">
    <input type="text" id="speciesInput" placeholder="Species (e.g., African Spurred)">
    <input type="text" id="healthInput" placeholder="Health (e.g., Good)">
    <select id="vaccinatedInput">
      <option value="Yes">Yes</option>
      <option value="No">No</option>
    </select>
    <button onclick="addTortoise()">âœ… Add</button>
  </div>



            <section class="table-section">
              <h2>Recent Tortoise Activity</h2>
              
                 <table id="tortoiseTable">
             <!-- table content -->
                
              </div>
            </section>
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Species</th>
                            <th>Health</th>
                            <th>Vaccinated</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>T101</td>
                            <td>GalÃ¡pagos</td>
                            <td>Good</td>
                            <td>Yes</td>
                            <td>âœï¸ ğŸ—‘ï¸</td>
                        </tr>
                        <tr>
                            <td>T102</td>
                            <td>Aldabra</td>
                            <td>Moderate</td>
                            <td>No</td>
                            <td>âœï¸ ğŸ—‘ï¸</td>
                        </tr>
                            <td>T103</td>
                            <td>Indian Star</td>
    <td>Good</td>
    <td>Yes</td>
    <td>
      <span class="icon edit" onclick="editRow(this)">âœï¸</span>
      <span class="icon delete" onclick="deleteRow(this)">ğŸ—‘ï¸</span>
    </td>
  </tr>
  <tr>
    <td>T104</td>
    <td>Russian Tortoise</td>
    <td>Fair</td>
    <td>No</td>
    <td>
      <span class="icon edit" onclick="editRow(this)">âœï¸</span>
      <span class="icon delete" onclick="deleteRow(this)">ğŸ—‘ï¸</span>
    </td>
  </tr>
  <tr>
    <td>T105</td>
    <td>Leopard Tortoise</td>
    <td>Excellent</td>
    <td>Yes</td>
    <td>
      <span class="icon edit" onclick="editRow(this)">âœï¸</span>
      <span class="icon delete" onclick="deleteRow(this)">ğŸ—‘ï¸</span>
    </td>
  </tr>
  <tr>
    <td>T106</td>
    <td>Burmese Star</td>
    <td>Good</td>
    <td>No</td>
    <td>
      <span class="icon edit" onclick="editRow(this)">âœï¸</span>
      <span class="icon delete" onclick="deleteRow(this)">ğŸ—‘ï¸</span>
    </td>
  </tr>
                    </tbody>
                </table>
            </section>
        </main>
    </div>
    <!-- Chart.js CDN -->
     <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Your custom JS file -->
     <script >
        
// Health Monitoring Chart (Line Chart)
  const healthCtx = document.getElementById('healthChart').getContext('2d');
  new Chart(healthCtx, {
    type: 'line',
    data: {
      labels: ['July 1', 'July 5', 'July 10', 'July 15'],
      datasets: [{
        label: 'Health Cases (Species A)',
        data: [2, 4, 1, 3],
        borderColor: '#4285F4',
        fill: true,
        backgroundColor: 'rgba(66, 133, 244, 0.2)',
        tension: 0.4
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom'
        }
      }
    }
  });

  // 2. Feeding Activity Chart (Bar Chart)
  const feedingCtx = document.getElementById('feedingChart').getContext('2d');
  new Chart(feedingCtx, {
    type: 'bar',
    data: {
      labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri'],
      datasets: [{
        label: 'Feed Dispensed (grams)',
        data: [250, 300, 200, 270, 320],
        backgroundColor: '#34A853'
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          display: false
        }
      }
    }
  });

  // 3. Breeding Statistics (Pie Chart)
  const breedingCtx = document.getElementById('breedingChart').getContext('2d');
  new Chart(breedingCtx, {
    type: 'pie',
    data: {
      labels: ['Successful', 'Failed', 'Ongoing'],
      datasets: [{
        data: [12, 3, 5],
        backgroundColor: ['#FBBC05', '#EA4335', '#4285F4']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'right'
        }
      }
    }
  });

  // 4. Water Quality (pH) Monitoring (Line Chart)
  const phCtx = document.getElementById('phChart').getContext('2d');
  new Chart(phCtx, {
    type: 'line',
    data: {
      labels: ['Tank 1', 'Tank 2', 'Tank 3', 'Tank 4'],
      datasets: [{
        label: 'pH Level',
        data: [7.1, 6.8, 7.3, 7.0],
        borderColor: '#AB47BC',
        backgroundColor: 'rgba(171, 71, 188, 0.2)',
        fill: true,
        tension: 0.4
      }]
    },
    options: {
      responsive: true
    }
  });

  // 5. Task Completion Status (Doughnut Chart)
  const taskCtx = document.getElementById('taskChart').getContext('2d');
  new Chart(taskCtx, {
    type: 'doughnut',
    data: {
      labels: ['Completed', 'In Progress', 'Pending'],
      datasets: [{
        data: [60, 25, 15],
        backgroundColor: ['#0F9D58', '#F4B400', '#DB4437']
      }]
    },
    options: {
      responsive: true,
      plugins: {
        legend: {
          position: 'bottom'
        }
      }
    }
  });
  // Show the form when Add button is clicked
  document.getElementById("addBtn").onclick = function () {
    const form = document.getElementById("addForm");
    form.style.display = form.style.display === "none" ? "block" : "none";
  };

  // Add Tortoise to Table
  function addTortoise() {
    const id = document.getElementById("idInput").value;
    const species = document.getElementById("speciesInput").value;
    const health = document.getElementById("healthInput").value;
    const vaccinated = document.getElementById("vaccinatedInput").value;

    if (!id || !species || !health) {
      alert("Please fill all fields.");
      return;
    }

    const table = document.getElementById("tortoiseTable").getElementsByTagName('tbody')[0];
    const newRow = table.insertRow();

    newRow.innerHTML = `
      <td>${id}</td>
      <td>${species}</td>
      <td>${health}</td>
      <td>${vaccinated}</td>
      <td>âœï¸ ğŸ—‘ï¸</td>
    `;

    // Clear form
    document.getElementById("idInput").value = "";
    document.getElementById("speciesInput").value = "";
    document.getElementById("healthInput").value = "";
    document.getElementById("vaccinatedInput").value = "Yes";
  }
     // Search filter
    document.getElementById("searchInput").addEventListener("keyup", function () {
    const filter = this.value.toLowerCase();
    const table = document.getElementById("tortoiseTable");
    const tr = table.getElementsByTagName("tr");

    for (let i = 1; i < tr.length; i++) {
      let matchFound = false;
      const td = tr[i].getElementsByTagName("td");

      for (let j = 0; j < td.length; j++) {
        if (td[j]) {
          const cellText = td[j].textContent || td[j].innerText;
          if (cellText.toLowerCase().indexOf(filter) > -1) {
            matchFound = true;
            break;
          }
        }
      }

      tr[i].style.display = matchFound ? "" : "none";
    }
  });
  


    </script>
</body>
</html>
